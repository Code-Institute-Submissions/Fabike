{% load static %}

{% block header %}
<!-- Top navbar -->
<div class="bg-dark fixed-top row">
	<div class="col-12 pt-2 pb-1 text-center">
		<a href="{% url 'home' %}" class="text-center">
			<img src="{{ MEDIA_URL }}logo_white.png" alt="FABIKE logo" height="37">
		</a>
	</div>
    <div id="main-menu" class="container col-10 my-0 py-0 d-flex" role="navigation">
        <nav class="nav navbar navbar-expand-lg navbar-dark pl-1 py-0 text-white">
            <div class="navbar-header">
                <button class="navbar-toggler pl-2" data-toggle="collapse" data-activates="navbarContent" type="button" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon pl-2"><span></span><span></span><span></span></span>
                </button>  
            </div>
            <div id="navbarContent" class="collapse navbar-collapse" role="navigation">
                <ul class="navbar-nav mr-auto pr-0" >
                    <li class="dropdown">
                        <a id="bikes-btn" class="text-white py-0 nav-item nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">BIKES</a>
                        <div class="dropdown-menu bg-dark" aria-labelledby="bikes-btn">
                            <ul class="bikes-dropdown-menu ">
                                <li class="nav-item text-white">
                                    <a class="text-white py-0 nav-item nav-link" href="{% url 'bikes' %}">ALL BIKES</a>
                                </li>
                                <li class="nav-item text-white">
                                    <a class="text-white py-0 nav-item nav-link" href="{% url 'urban' %}">URBAN</a>
                                </li>
                                <li class="nav-item text-white">
                                    <a class="text-white py-0 nav-item nav-link" href="{% url 'all_road' %}">ALL-ROAD</a>
                                </li>
                                <li class="nav-item text-white">
                                    <a class="text-white py-0 nav-item nav-link" href="{% url 'road' %}">ROAD</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a class="text-white py-0 nav-item nav-link" href="{% url 'frames' %}">FRAMES</a>
                    </li>
                    <li>
                        <a class="text-white py-0 nav-item nav-link" href="{% url 'products' %}">EVENTS</a>
                    </li>
                    <li>
                        <a class="text-white py-0 nav-item nav-link" href="{% url 'about' %}">ABOUT</a>
                    </li>
                    <li>
                        <a class="text-white py-0 nav-item nav-link" href="{% url 'contact' %}">CONTACT</a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
    <div class="col-2">
        <ul class="d-flex justify-content-end mb-0">
            <li class="nav-item">
                <a class="nav-link text-white px-3" href="#" id="dropdown-search" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-search"></i>
                </a>
                <div class="dropdown-menu border-0 w-5 p-0 rounded-3 my-0" aria-labelledby="dropdown-search">
                    <form class="form" method="GET" action="{% url 'products' %}">
                        <div class="input-group">
                            <input class="form-control border border-black rounded-0" type="text" name="q" placeholder="Search our site">
                            <div class="input-group-append">
                                <button class="form-control form-control btn btn-black border border-black rounded-0" type="submit">
                                    <span class="icon">
                                        <i class="fas fa-search"></i>
                                    </span>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white px-3" title="{% if user.is_authenticated %}{{ user.username }}'s profile{% else %}My profile{% endif %}" href="#" id="dropdown-account" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    {% if user.is_authenticated %}
                        <i class="fa fa-user text-primary"></i>
                    {% else %}
                        <i class="fa fa-user"></i>
                    {% endif %}
                </a>
                <div id="account-drop-menu" class="dropdown-menu border-0 px-0 rounded-3 my-0 bg-dark text-center" aria-labelledby="dropdown-account">
                    <ul class="account-dropdown-menu">
                        {% if user.is_authenticated %}
                            {% if request.user.is_superuser %}
                            <li class="nav-item px-0">
                                <a class="nav-link py-0 text-white" href="{% url 'add_product' %}">ADMIN</a>
                            </li>
                            {% endif %}
                        <li class="nav-item px-0">
                            <a class="nav-link py-0 text-white" href="{% url 'profile' %}">PROFILE</a>
                        </li>
                        <li class="nav-item px-0">
                            <a class="nav-link py-0 text-white" href="{% url 'account_logout' %}">SIGN OUT</a>
                        </li>
                        {% else %}
                        <li class="nav-item px-0">
                            <a class="nav-link py-0 text-white" href="{% url 'account_login' %}">SIGN IN</a>
                        </li>
                        <li class="nav-item px-0">
                            <a class="nav-link py-0 text-white" href="{% url 'account_signup' %}">SIGN UP</a>
                        </li>
                        {% endif %}
                    </ul>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white px-3" href="{% url 'view_cart' %}">
                    <span id="cart-span">
                        <i class="fas fa-cart-arrow-down {% if product_count == 0 %}text-white{% else %}text-primary{% endif %}"></i>
                        <span id="cart-qty" class="{% if product_count == 0 %}text-white{% else %}text-primary{% endif %}">{{ product_count }}</span>
                    </span>
                </a>
                
            </li>
        </ul>
    </div>
</div>
{% endblock %}